(function(e){function t(t){for(var a,r,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var p=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0935":function(e,t,n){"use strict";n("2e50")},"0e7b":function(e,t,n){},"12e4":function(e,t,n){"use strict";n("97aa")},"254e":function(e,t,n){},"2d48":function(e,t,n){e.exports=n.p+"img/auth-hero.64407225.png"},"2e50":function(e,t,n){},"2e9a":function(e,t,n){},3167:function(e,t,n){"use strict";n("4419")},4419:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function o(e,t,n,o,s,r){var i=Object(a["k"])("Landing"),c=Object(a["k"])("SignupModal"),u=Object(a["k"])("SendPassModal");return Object(a["h"])(),Object(a["b"])("section",null,[Object(a["e"])(i,{onToggleSignup:r.toggleSignup,onToggleSendpass:r.toggleSendpass},null,8,["onToggleSignup","onToggleSendpass"]),Object(a["e"])(c,{showSignup:s.showSignup,onToggleSignup:r.toggleSignup},null,8,["showSignup","onToggleSignup"]),Object(a["e"])(u,{showSendpass:s.showSendpass,onToggleSendpass:r.toggleSendpass},null,8,["showSendpass","onToggleSendpass"])])}var s={class:"landing"};function r(e,t,n,o,r,i){var c=Object(a["k"])("Hero"),u=Object(a["k"])("Options");return Object(a["h"])(),Object(a["b"])("section",s,[Object(a["e"])(c),Object(a["e"])(u,{onToggleSignup:i.toggleSignup,onToggleSendpass:t[0]||(t[0]=function(t){return e.$emit("toggle-sendpass")})},null,8,["onToggleSignup"])])}var i=n("2d48"),c=n.n(i),u=function(e){return Object(a["j"])("data-v-53f308db"),e=e(),Object(a["i"])(),e},p={class:"hero"},l=u((function(){return Object(a["c"])("img",{src:c.a,alt:"hero img",class:"hero__img"},null,-1)})),d=u((function(){return Object(a["c"])("div",{class:"hero__text"},"Se connecter ou créer un compte",-1)})),m=[l,d];function b(e,t,n,o,s,r){return Object(a["h"])(),Object(a["b"])("div",p,m)}var g={name:"Hero"},f=(n("c8ca"),n("6b0d")),h=n.n(f);const O=h()(g,[["render",b],["__scopeId","data-v-53f308db"]]);var j=O,v=(n("99af"),{class:"options"}),w={class:"options__socialaccounts"},S=["href"],k=["href"],y={class:"options__formcontainer"},P={class:"options__createprofile"};function x(e,t,n,o,s,r){var i=Object(a["k"])("Button"),c=Object(a["k"])("Divider"),u=Object(a["k"])("LoginForm");return Object(a["h"])(),Object(a["b"])("div",v,[Object(a["c"])("div",w,[Object(a["c"])("a",{href:"".concat(this.GOOGLE_URL,"?app=").concat(this.app)},[Object(a["e"])(i,{text:"Google",color:"white",icon:'<img src="https://img.icons8.com/color/25/000000/google-logo.png"/>'})],8,S),Object(a["c"])("a",{href:"".concat(this.GITHUB_URL,"?app=").concat(this.app)},[Object(a["e"])(i,{text:"Github",color:"white",icon:'<img src="https://img.icons8.com/fluency/25/000000/github.png"/>'})],8,k),Object(a["e"])(i,{text:"Linkedin",color:"white",icon:'<img src="https://img.icons8.com/fluency/25/000000/linkedin.png"/>'})]),Object(a["e"])(c,{text:"OU"}),Object(a["c"])("div",y,[Object(a["e"])(u)]),Object(a["c"])("p",{onClick:t[0]||(t[0]=function(t){return e.$emit("toggle-sendpass")}),className:"options__forgotpassword",id:"toggle-sendpass"}," Mot de passe perdu ? "),Object(a["e"])(c),Object(a["c"])("div",P,[Object(a["e"])(i,{onClick:t[1]||(t[1]=function(t){return e.$emit("toggle-signup")}),text:"Create profile",width:"80%",className:"--grey",dataTest:"toggle-signup"})])])}n("ac1f"),n("841c"),n("d3b7"),n("3ca3"),n("ddb0"),n("9861");var _=["href","data-test"],L=["innerHTML"];function T(e,t,n,o,s,r){return Object(a["h"])(),Object(a["b"])("button",{style:Object(a["g"])({backgroundColor:n.color,width:n.width}),class:Object(a["f"])("btn ".concat(n.className)),href:n.href,"data-test":n.dataTest},[Object(a["o"])(Object(a["c"])("span",{innerHTML:n.icon},null,8,L),[[a["n"],r.isIcon]]),Object(a["d"])(" "+Object(a["l"])(n.text),1)],14,_)}var U={name:"Button",props:{href:{type:String,default:"https://ikodi.eu"},text:{type:String,default:"Bouton"},width:{type:String,default:"fit-content"},className:{type:String,default:""},color:{type:String},icon:{type:String},dataTest:{type:String}},computed:{isIcon:function(){return"undefined"!==typeof this.icon}}};n("0935");const C=h()(U,[["render",T],["__scopeId","data-v-6d7ec0a8"]]);var M=C,B={class:"divider"};function I(e,t,n,o,s,r){return Object(a["h"])(),Object(a["b"])("div",B,[Object(a["c"])("span",null,Object(a["l"])(n.text),1)])}var $={name:"Divider",props:{text:{type:String}}};n("5a1e");const F=h()($,[["render",I],["__scopeId","data-v-79bd1b90"]]);var R=F,V={class:"group"};function A(e,t,n,o,s,r){var i=this,c=Object(a["k"])("Button");return Object(a["h"])(),Object(a["b"])("form",{onSubmit:t[5]||(t[5]=Object(a["p"])((function(){return r.onSubmit&&r.onSubmit.apply(r,arguments)}),["prevent"]))},[Object(a["o"])(Object(a["c"])("input",{type:"email",name:"email",placeholder:"Email",max:"250","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.email=e})},null,512),[[a["m"],this.email]]),Object(a["c"])("div",V,[Object(a["o"])(Object(a["c"])("input",{type:"password",name:"password",placeholder:"Mot de passe",max:"250",onInput:t[1]||(t[1]=function(){return r.checkPwd&&r.checkPwd.apply(r,arguments)}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.password=e}),class:Object(a["f"])(this.isPwdOk?"--valid":"")},null,34),[[a["m"],s.password]]),Object(a["c"])("span",{class:Object(a["f"])(this.isPwdOk?"--valid":"--invalid")},Object(a["l"])(this.isPwdOk?"Ok !":"Minimum 5 caractères dont au moins une majuscule et un nombre"),3)]),Object(a["o"])(Object(a["c"])("input",{type:"text",name:"app","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.app=e})},null,512),[[a["n"],!1],[a["m"],this.app]]),Object(a["e"])(c,{onClick:t[4]||(t[4]=function(t){return e.$emit("submit")}),text:"Connexion",className:"--blue",width:"80%"})],32)}n("00b4");var E="https://auth.ikodi.eu/google",G="https://auth.ikodi.eu/github",N="https://auth.ikodi.eu",z={post:function(e,t){var n=document.createElement("form");for(var a in n.method="post",n.action=e,t){var o=document.createElement("input");o.setAttribute("name",a),o.setAttribute("value",t[a]),n.appendChild(o)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)},verifyLoginForm:function(e){for(var t in e)if(""===e[t])return{valid:!1,message:"Il manque l'email ou le mot de passe"};return e.password.length<5?{valid:!1,message:"Le mot de passe doit être composé de 5 caractères au minimum dont au moins une majuscule et un nombre."}:{valid:!0}},verifySignupForm:function(e){var t=[];return""===e.firstname&&""===e.lastname&&t.push("Renseigner au moins un du prénom ou du nom"),""!==e.email&&""!==e.password1&&""!==e.password2||t.push("Email et mots de passe obligatoires"),e.password1!==e.password2&&t.push("Les mots de passe sont différents"),/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{5,50}$/.test(e.password1)||t.push("Le mot de passe doit être composé de 5 caractères au minimum dont au moins une majuscule et un nombre."),t.length?{valid:!1,messages:t}:{valid:!0}},alertCode:function(e){switch(e){case"empty":alert("Au moins un des champs n'est pas rempli");break;case"invalidemail":alert("Le format de l'email est invalide");break;case"usernotindb":alert("Cet email ne correspond à aucun compte connu");break;case"isapisignup":alert("Compte créer à partir d'un compte Google ou Github ou autre, donc peut-être réessayer avec un de ceux là ?");break;case"diffpwd":alert("Les mots de passe ne sont pas identiques");break;case"minname":alert("Au minimun un nom ou un pseudo est nécessaire");break;case"exist":alert("Un compte existe déjà pour cet email, utiliser le lien pour récupérer un mot de passe perdu");break;case"inactive":alert("L'email pour ce compte n'a pas été confirmé. Vous pouvez soit suivre le lien reçu par mail (valable 10 minutes) ou recréer un compte puis valider le nouveau lien reçu");break;case"invalidpwd":alert("Le mot de passe doit contenir au minimum 5 caractères dont au moins une majuscule et un nombre");break;default:break}}},D=z,H={name:"LoginForm",components:{Button:M},data:function(){return{email:"",password:"",app:"auth",user:{},isPwdOk:!1}},mounted:function(){var e=window.location.search,t=new URLSearchParams(e);this.app=t.get("app");var n=t.get("code");n&&D.alertCode(n)},methods:{onSubmit:function(){var e={email:this.email,password:this.password,app:this.app},t=D.verifyLoginForm(e);if(!t.valid)return alert(t.message);D.post("".concat(N,"/login"),e)},checkPwd:function(){var e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{5,50}$/.test(this.password);this.isPwdOk=e}},emits:["submit"]};n("a060");const Z=h()(H,[["render",A]]);var q=Z,J={components:{Button:M,Divider:R,LoginForm:q},data:function(){return{GOOGLE_URL:E,GITHUB_URL:G,app:app}},mounted:function(){var e=window.location.search,t=new URLSearchParams(e);this.app=t.get("app")},emits:["toggle-signup","toggle-sendpass"]};n("12e4");const K=h()(J,[["render",x],["__scopeId","data-v-6cc8ac76"]]);var Q=K,W={name:"Landing",components:{Hero:j,Options:Q},methods:{toggleSignup:function(){this.$emit("toggle-signup")}},emits:["toggle-signup","toggle-sendpass"]};n("56dd");const X=h()(W,[["render",r],["__scopeId","data-v-2ac923ba"]]);var Y=X,ee=function(e){return Object(a["j"])("data-v-3496a4dc"),e=e(),Object(a["i"])(),e},te={class:"formcontainer"},ne=ee((function(){return Object(a["c"])("h1",{class:"modal__title"},"Création de compte",-1)}));function ae(e,t,n,o,s,r){var i=Object(a["k"])("Divider"),c=Object(a["k"])("SignupForm");return Object(a["h"])(),Object(a["b"])("section",{class:Object(a["f"])(n.showSignup?"modal --showModal":"modal")},[Object(a["c"])("div",te,[Object(a["c"])("i",{class:"fas fa-times",onClick:t[0]||(t[0]=function(t){return e.$emit("toggle-signup")})}),ne,Object(a["e"])(i),Object(a["e"])(c,{onToggleSignup:t[1]||(t[1]=function(t){return e.$emit("toggle-signup")})})])],2)}var oe={class:"group"},se={class:"group"};function re(e,t,n,o,s,r){var i=this,c=Object(a["k"])("Button");return Object(a["h"])(),Object(a["b"])("form",{onSubmit:t[8]||(t[8]=Object(a["p"])((function(){return r.onSubmit&&r.onSubmit.apply(r,arguments)}),["prevent"]))},[Object(a["o"])(Object(a["c"])("input",{type:"text",name:"firstname",placeholder:"Prénom","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.firstname=e})},null,512),[[a["m"],s.firstname]]),Object(a["o"])(Object(a["c"])("input",{type:"text",name:"lastname",placeholder:"Nom","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.lastname=e})},null,512),[[a["m"],s.lastname]]),Object(a["o"])(Object(a["c"])("input",{type:"email",name:"email",placeholder:"Email","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.email=e})},null,512),[[a["m"],s.email]]),Object(a["c"])("div",oe,[Object(a["o"])(Object(a["c"])("input",{type:"password",name:"password1",placeholder:"Mot de passe",onInput:t[3]||(t[3]=function(){return r.checkPwd1&&r.checkPwd1.apply(r,arguments)}),"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.password1=e}),class:Object(a["f"])(this.isPwd1Ok?"--valid":"")},null,34),[[a["m"],s.password1]]),Object(a["c"])("span",{class:Object(a["f"])(this.isPwd1Ok?"--valid":"--invalid")},Object(a["l"])(this.isPwd1Ok?"Ok !":"Minimum 5 caractères dont au moins une majuscule et un nombre"),3)]),Object(a["c"])("div",se,[Object(a["o"])(Object(a["c"])("input",{type:"password",name:"password2",placeholder:"Confirmation du mot de passe","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.password2=e}),onInput:t[6]||(t[6]=function(){return r.checkPwd2&&r.checkPwd2.apply(r,arguments)}),class:Object(a["f"])(this.isPwd1Ok&&this.isPwd2Ok?"--valid":"")},null,34),[[a["m"],s.password2]])]),Object(a["o"])(Object(a["c"])("input",{type:"text",name:"app","onUpdate:modelValue":t[7]||(t[7]=function(e){return i.app=e})},null,512),[[a["n"],!1],[a["m"],this.app]]),Object(a["e"])(c,{text:"Valider",className:"--blue",width:"80%"})],32)}var ie=n("1da1"),ce=(n("96cf"),n("159b"),n("25f0"),n("bc3a")),ue=n.n(ce),pe={name:"SignupForm",components:{Button:M},data:function(){return{firstname:"",lastname:"",email:"",password1:"",password2:"",app:"auth",isPwd1Ok:!1,isPwd2Ok:!1}},mounted:function(){var e=window.location.search,t=new URLSearchParams(e);this.app=t.get("app")},methods:{onSubmit:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={firstname:e.firstname,lastname:e.lastname,email:e.email,password1:e.password1,password2:e.password2,app:e.app},a=D.verifySignupForm(n),a.valid){t.next=4;break}return t.abrupt("return",a.messages.forEach((function(e){return alert(e)})));case 4:return t.prev=4,t.next=7,ue.a.post("".concat(N,"/signup"),n);case 7:if(o=t.sent,!o.data.code){t.next=10;break}return t.abrupt("return",D.alertCode(o.data.code));case 10:o.data.message&&(alert(o.data.message),e.$emit("toggle-signup")),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](4),t.t0.response?alert(t.t0.response.data.message):alert(t.t0.toString());case 16:case"end":return t.stop()}}),t,null,[[4,13]])})))()},checkPwd1:function(){var e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{5,50}$/.test(this.password1);this.isPwd1Ok=e,this.checkPwd2()},checkPwd2:function(){return console.log("checkPwd2"),this.isPwd2Ok=this.password1===this.password2}},emits:["toggle-signup"]};n("f688");const le=h()(pe,[["render",re]]);var de=le,me={name:"SignupModal",props:{showSignup:{type:Boolean,default:!1}},components:{Divider:R,SignupForm:de},emits:["toggle-signup"]};n("f4c8");const be=h()(me,[["render",ae],["__scopeId","data-v-3496a4dc"]]);var ge=be,fe={class:"formcontainer"},he=Object(a["c"])("h1",{class:"modal__title"},"Réinitialiser le mot de passe",-1);function Oe(e,t,n,o,s,r){var i=Object(a["k"])("Divider"),c=Object(a["k"])("SendPassForm");return Object(a["h"])(),Object(a["b"])("section",{class:Object(a["f"])(n.showSendpass?"modal --showModal":"modal")},[Object(a["c"])("div",fe,[Object(a["c"])("i",{class:"fas fa-times",onClick:t[0]||(t[0]=function(t){return e.$emit("toggle-sendpass")})}),he,Object(a["e"])(i),Object(a["e"])(c,{onToggleSendpass:t[1]||(t[1]=function(t){return e.$emit("toggle-sendpass")})})])],2)}function je(e,t,n,o,s,r){var i=this,c=Object(a["k"])("Button");return Object(a["h"])(),Object(a["b"])("form",{onSubmit:t[1]||(t[1]=Object(a["p"])((function(){return r.onSubmit&&r.onSubmit.apply(r,arguments)}),["prevent"]))},[Object(a["o"])(Object(a["c"])("input",{type:"email",name:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.email=e})},null,512),[[a["m"],this.email]]),Object(a["e"])(c,{text:"Envoyer",className:"--blue",width:"100%"})],32)}var ve={name:"SendPassForm",components:{Button:M},data:function(){return{email:""}},methods:{onSubmit:function(e){var t=this;return Object(ie["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={email:t.email},""!==t.email){e.next=3;break}return e.abrupt("return",alert("Champ email vide"));case 3:return e.prev=3,e.next=6,ue.a.post("".concat(N,"/forgot-pwd"),n);case 6:a=e.sent,alert(a.data.message),t.$emit("toggle-sendpass"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),e.t0.response?alert(e.t0.response.data.message):alert(e.t0.toString());case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()}},emits:["toggle-sendpass"]};const we=h()(ve,[["render",je]]);var Se=we,ke={name:"SendPassModal",props:{showSendpass:{type:Boolean,default:!1}},components:{Divider:R,SendPassForm:Se}};n("3167");const ye=h()(ke,[["render",Oe]]);var Pe=ye,xe={name:"App",components:{Landing:Y,SignupModal:ge,SendPassModal:Pe},data:function(){return{showSignup:!1,showSendpass:!1}},methods:{toggleSignup:function(){this.showSignup=!this.showSignup},toggleSendpass:function(){this.showSendpass=!this.showSendpass}}};n("acbc");const _e=h()(xe,[["render",o]]);var Le=_e;Object(a["a"])(Le).mount("#app")},"56dd":function(e,t,n){"use strict";n("0e7b")},"5a1e":function(e,t,n){"use strict";n("8422")},8422:function(e,t,n){},"97aa":function(e,t,n){},"97e8":function(e,t,n){},a060:function(e,t,n){"use strict";n("b8ac")},acbc:function(e,t,n){"use strict";n("b14d")},b14d:function(e,t,n){},b8ac:function(e,t,n){},c8ca:function(e,t,n){"use strict";n("2e9a")},f4c8:function(e,t,n){"use strict";n("254e")},f688:function(e,t,n){"use strict";n("97e8")}});
//# sourceMappingURL=app.b050dc34.js.map